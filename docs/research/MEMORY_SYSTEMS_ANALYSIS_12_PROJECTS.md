# 12 ä¸ª AI ä¼´ä¾£é¡¹ç›®é•¿æœŸè®°å¿†æ¨¡å—æ·±åº¦ç ”ç©¶æŠ¥å‘Š

## ğŸ“Š é¡¹ç›®æ¦‚è§ˆ

æœ¬æŠ¥å‘Šæ·±å…¥åˆ†æäº† example ç›®å½•ä¸‹ 12 ä¸ª AI ä¼´ä¾£é¡¹ç›®çš„é•¿æœŸè®°å¿†å®ç°,æ€»ç»“å„è‡ªçš„æ¶æ„ç‰¹ç‚¹ã€æŠ€æœ¯é€‰å‹å’Œä¼˜ç¼ºç‚¹ã€‚

---

## ğŸ”¬ é¡¹ç›®è¯¦ç»†åˆ†æ

### 1. **N.E.K.O** - å››å±‚æ··åˆè®°å¿†æ¶æ„ â­â­â­â­â­

**æ¶æ„**:

- **CompressedRecentHistoryManager**: çŸ­æœŸè®°å¿† + LLM å‹ç¼©æ‘˜è¦
- **TimeIndexedMemory**: SQLite æ—¶é—´ç´¢å¼•å­˜å‚¨
- **SemanticMemory**: è¯­ä¹‰å‘é‡åº“ (å½“å‰æ³¨é‡Šæ‰ Chroma)
- **ImportantSettingsManager**: å…³é”®è®¾ç½®æå–

**æ ¸å¿ƒä»£ç **:

```python
# memory_server.py - æ¨¡å—åŒ–å†…å­˜ç®¡ç†
recent_history_manager = CompressedRecentHistoryManager()
semantic_manager = SemanticMemory(recent_history_manager)
time_manager = TimeIndexedMemory(recent_history_manager)
settings_manager = ImportantSettingsManager()
```

**æ ¸å¿ƒç‰¹æ€§**:

1. **LLM æ™ºèƒ½å‹ç¼©**: ä½¿ç”¨ GPT/Qwen æ€»ç»“å¯¹è¯,ä¿ç•™å…³é”®ä¿¡æ¯
2. **åŒå±‚æ—¶é—´å­˜å‚¨**: SQLite å­˜å‚¨åŸå§‹+å‹ç¼©å¯¹è¯,å¯æŒ‰æ—¶é—´èŒƒå›´æŸ¥è¯¢
3. **è‡ªåŠ¨å®¡æ ¸æœºåˆ¶**: `review_history()` æ£€æµ‹çŸ›ç›¾ã€å†—ä½™ã€å¤è¯»
4. **å–æ¶ˆæœºåˆ¶**: asyncio.Event æ§åˆ¶é•¿æ—¶é—´ LLM è°ƒç”¨
5. **é…ç½®çƒ­é‡è½½**: æ”¯æŒæ–°è§’è‰²åŠ¨æ€åˆ›å»º,æ— éœ€é‡å¯

**æŠ€æœ¯äº®ç‚¹**:

- **æŒ‡æ•°é€€é¿é‡è¯•**: ç½‘ç»œé”™è¯¯è‡ªåŠ¨é‡è¯• (2^n ç§’)
- **ä»»åŠ¡å¹¶å‘ç®¡ç†**: åå°å¼‚æ­¥å‹ç¼©ä¸é˜»å¡ä¸»æµç¨‹
- **æ–‡ä»¶è·¯å¾„åŠ¨æ€**: è§’è‰²ä¸å­˜åœ¨æ—¶è‡ªåŠ¨åˆ›å»ºé»˜è®¤è·¯å¾„

**ä¼˜ç‚¹**:
âœ… æ¶æ„æœ€å®Œæ•´,å››å±‚è®°å¿†äº’è¡¥  
âœ… æ™ºèƒ½å‹ç¼©èŠ‚çœ token,ä¿ç•™æ‘˜è¦  
âœ… è‡ªåŠ¨çº é”™èƒ½åŠ›å¼º  
âœ… æ”¯æŒå¤šè§’è‰²éš”ç¦»å­˜å‚¨

**ç¼ºç‚¹**:
âŒ ä¾èµ–ç¬¬ä¸‰æ–¹ LLM (æˆæœ¬é«˜)  
âŒ Chroma è¢«æ³¨é‡Šæ‰ (å‡å°åŒ…ä½“ç§¯)  
âŒ Semantic æ¨¡å—å½“å‰ä¸å¯ç”¨  
âŒ å®¡æ ¸åŠŸèƒ½æ¶ˆè€—å¤§é‡ token

**é€‚ç”¨åœºæ™¯**: **é•¿æœŸé™ªä¼´å‹ AI ä¼´ä¾£,éœ€è¦é•¿æœŸè®°å¿†ä¸€è‡´æ€§**

---

### 2. **MoeChat** - YAML æ–‡ä»¶åŒå±‚è®°å¿† â­â­â­â­

**æ¶æ„**:

- **core_mem.yml**: æ ¸å¿ƒè®°å¿† (æ‰‹åŠ¨/é‡è¦äº‹ä»¶)
- **memorys/\*.yaml**: é•¿æœŸå¯¹è¯è®°å¿† (è‡ªåŠ¨å½’æ¡£)
- **memory_editor_web.py**: Flask å¯è§†åŒ–ç¼–è¾‘å™¨

**æ ¸å¿ƒä»£ç **:

```python
# å­˜å‚¨ç»“æ„
core_mem.yml:
  uuid: {text: "...", time: "2025-01-01 10:00:00"}

memorys/2025-01-01.yaml:
  timestamp: {msg: "...", text_tag: "å…³é”®è¯"}
```

**æ ¸å¿ƒç‰¹æ€§**:

1. **çº¯æ–‡ä»¶å­˜å‚¨**: æ— éœ€æ•°æ®åº“,æ˜“äºå¤‡ä»½å’Œè¿ç§»
2. **æ‰‹åŠ¨ç¼–è¾‘**: Web ç•Œé¢ç›´æ¥ä¿®æ”¹/åˆ é™¤è®°å¿†
3. **å…³é”®è¯æ ‡ç­¾**: `text_tag` ç”¨äºå¿«é€Ÿæ£€ç´¢
4. **æ—¶é—´ç´¢å¼•**: æŒ‰æ—¥æœŸæ–‡ä»¶å¤¹ç»„ç»‡

**ä¼˜ç‚¹**:
âœ… æç®€è®¾è®¡,æ— æ•°æ®åº“ä¾èµ–  
âœ… äººå·¥å¯è¯»å¯ç¼–è¾‘ (YAML)  
âœ… è¿ç§»æˆæœ¬ä½  
âœ… Web UI å‹å¥½

**ç¼ºç‚¹**:
âŒ æ— å‘é‡æ£€ç´¢èƒ½åŠ›  
âŒ å¤§é‡è®°å¿†æ—¶æ–‡ä»¶ IO æ…¢  
âŒ æ— è‡ªåŠ¨å‹ç¼©/æ€»ç»“  
âŒ æœç´¢åªæ”¯æŒå…³é”®è¯åŒ¹é…

**é€‚ç”¨åœºæ™¯**: **å°è§„æ¨¡é¡¹ç›®,éœ€è¦äººå·¥ç®¡ç†è®°å¿†**

---

### 3. **NagaAgent** - GRAG äº”å…ƒç»„çŸ¥è¯†å›¾è°± â­â­â­â­â­

**æ¶æ„**:

- **GRAGMemoryManager**: çŸ¥è¯†å›¾è°±ç®¡ç†å™¨
- **Quintuple æå–**: LLM æå– (å¤´å®ä½“, å…³ç³», å°¾å®ä½“, æ—¶é—´, æƒ…æ„Ÿ)
- **Neo4j å›¾æ•°æ®åº“**: å­˜å‚¨çŸ¥è¯†ä¸‰å…ƒç»„
- **TaskManager**: å¼‚æ­¥é˜Ÿåˆ—å¤„ç†æå–ä»»åŠ¡

**æ ¸å¿ƒä»£ç **:

```python
# quintuple_extractor.py - äº”å…ƒç»„æå–
quintuples = extract_quintuples(text)
# ç¤ºä¾‹: [("å°æ˜", "å–œæ¬¢", "å°çº¢", "2025-01-01", "å¼€å¿ƒ")]

# quintuple_graph.py - Neo4jå­˜å‚¨
store_quintuples(quintuples)
query_graph_by_keywords(["å°æ˜"])
```

**æ ¸å¿ƒç‰¹æ€§**:

1. **ç»“æ„åŒ–çŸ¥è¯†**: å°†å¯¹è¯è½¬ä¸º (å®ä½“-å…³ç³»-å®ä½“)
2. **å›¾æŸ¥è¯¢**: åˆ©ç”¨ Neo4j å¤šè·³å…³ç³»æ¨ç†
3. **å¹¶å‘æå–**: TaskManager é˜Ÿåˆ—åŒ–å¤„ç†,é¿å…é˜»å¡
4. **å›é€€æœºåˆ¶**: Neo4j è¿æ¥å¤±è´¥æ—¶ä½¿ç”¨æ–‡ä»¶å­˜å‚¨

**æŠ€æœ¯äº®ç‚¹**:

- **weakref é˜²æ³„æ¼**: å›è°ƒå‡½æ•°ä½¿ç”¨å¼±å¼•ç”¨
- **è¶…æ—¶ä¿æŠ¤**: æå–/å­˜å‚¨ 30s/15s è¶…æ—¶
- **ä»»åŠ¡å–æ¶ˆ**: æ”¯æŒ mid-flight å–æ¶ˆ

**ä¼˜ç‚¹**:
âœ… çŸ¥è¯†å›¾è°±æ¨ç†èƒ½åŠ›å¼º  
âœ… æ”¯æŒå¤æ‚å…³ç³»æŸ¥è¯¢  
âœ… å¼‚æ­¥å¤„ç†ä¸é˜»å¡  
âœ… é™çº§å®¹é”™æœºåˆ¶å¥½

**ç¼ºç‚¹**:
âŒ éœ€è¦ Neo4j æœåŠ¡ (éƒ¨ç½²å¤æ‚)  
âŒ äº”å…ƒç»„æå–è€—æ—¶é•¿  
âŒ LLM æå–å‡†ç¡®ç‡ä¾èµ–æ¨¡å‹  
âŒ å°å‹å¯¹è¯æ•ˆæœä¸æ˜æ˜¾

**é€‚ç”¨åœºæ™¯**: **çŸ¥è¯†å¯†é›†å‹å¯¹è¯,éœ€è¦å¤æ‚æ¨ç†**

---

### 4. **Live2D-Virtual-Girlfriend** - å®ä½“å…³ç³»å›¾ RAG â­â­â­â­

**æ¶æ„**:

- **RAGMemory**: æ··åˆè®°å¿†ç®¡ç†
- **Entity-Relationship Graph**: å®ä½“+å…³ç³»å›¾
- **Temporal Memory**: æ—¶é—´è®°å¿†æœç´¢
- **Branch åˆ†æ”¯**: å¤šåˆ†æ”¯å¯¹è¯æ ‘

**æ ¸å¿ƒä»£ç **:

```python
# graph_rag.py
class RAGMemory:
    def __init__(self):
        self.graph = nx.DiGraph()  # NetworkXå›¾
        self.temporal_memories = {}  # æ—¶é—´ç´¢å¼•
        self.memory_path = 'memory/'

    def semantic_search(self, query):
        entities = self._search_entities(query)
        relationships = self._search_relationships(query)
        temporal = self.search_temporal_memories(query)
        return self.build_context(...)
```

**æ ¸å¿ƒç‰¹æ€§**:

1. **NetworkX å›¾**: è½»é‡çº§å›¾å­˜å‚¨,æ— éœ€ Neo4j
2. **ä¸‰å±‚æ£€ç´¢**: å®ä½“ + å…³ç³» + æ—¶é—´è®°å¿†
3. **ä½™å¼¦ç›¸ä¼¼åº¦**: ä½¿ç”¨ embedding è®¡ç®—ç›¸å…³æ€§
4. **åˆ†æ”¯ç®¡ç†**: æ”¯æŒå¯¹è¯æ ‘å¤šåˆ†æ”¯

**æŠ€æœ¯äº®ç‚¹**:

- **é˜ˆå€¼è¿‡æ»¤**: å¯é…ç½®ç›¸ä¼¼åº¦é˜ˆå€¼
- **Top-K é™åˆ¶**: æ§åˆ¶è¿”å›è®°å¿†æ•°é‡
- **æ–‡ä»¶æŒä¹…åŒ–**: Pickle åºåˆ—åŒ–å›¾ç»“æ„

**ä¼˜ç‚¹**:
âœ… æ— éœ€å¤–éƒ¨æ•°æ®åº“  
âœ… å›¾ç»“æ„çµæ´»  
âœ… æ”¯æŒåˆ†æ”¯å¯¹è¯  
âœ… è½»é‡çº§éƒ¨ç½²

**ç¼ºç‚¹**:
âŒ NetworkX æ€§èƒ½æœ‰é™  
âŒ å¤§è§„æ¨¡å›¾æŸ¥è¯¢æ…¢  
âŒ æ— äº‹åŠ¡ä¿è¯  
âŒ Embedding éœ€å¤–éƒ¨è°ƒç”¨

**é€‚ç”¨åœºæ™¯**: **ä¸­å°è§„æ¨¡é¡¹ç›®,éœ€è¦å…³ç³»æ¨ç†ä½†ä¸æƒ³éƒ¨ç½²æ•°æ®åº“**

---

### 5. **my-neuro** - ç®€å•å‘é‡æ£€ç´¢ â­â­â­

**æ¶æ„**:

- **run_rag.py**: SentenceTransformer embedding æœåŠ¡
- **çŸ¥è¯†åº“**: çº¯æ–‡æœ¬åˆ—è¡¨ + embedding æ•°ç»„
- **ä½™å¼¦ç›¸ä¼¼åº¦**: scikit-learn è®¡ç®—

**æ ¸å¿ƒä»£ç **:

```python
# run_rag.py
from sentence_transformers import SentenceTransformer
model = SentenceTransformer('paraphrase-multilingual-MiniLM-L12-v2')

knowledge_base = ["çŸ¥è¯†1", "çŸ¥è¯†2", ...]
knowledge_embeddings = model.encode(knowledge_base)

# æŸ¥è¯¢
question_embedding = model.encode([question])
similarities = cosine_similarity(question_embedding, knowledge_embeddings)
```

**ä¼˜ç‚¹**:
âœ… å®ç°ç®€å•  
âœ… æœ¬åœ°æ¨¡å‹æ—  API æˆæœ¬  
âœ… é€‚åˆé™æ€çŸ¥è¯†åº“

**ç¼ºç‚¹**:
âŒ æ— æŒä¹…åŒ–æœºåˆ¶  
âŒ ä¸æ”¯æŒåŠ¨æ€æ·»åŠ   
âŒ æ— æ—¶é—´ç´¢å¼•  
âŒ åŠŸèƒ½è¿‡äºç®€å•

**é€‚ç”¨åœºæ™¯**: **FAQ/æ–‡æ¡£é—®ç­”,é™æ€çŸ¥è¯†åº“**

---

### 6. **nana** - ChromaDB å‘é‡å­˜å‚¨ â­â­â­â­

**æ¶æ„**:

- **ConversationHistory**: å¯¹è¯ç®¡ç†ç±»
- **ChromaDB**: æœ¬åœ°å‘é‡æ•°æ®åº“
- **è‡ªåŠ¨å½’æ¡£**: è¾¾åˆ° max_turns è‡ªåŠ¨å­˜å‚¨ä¸€åŠ

**æ ¸å¿ƒä»£ç **:

```python
# conversation.py
class ConversationHistory:
    def __init__(self, max_turns=20):
        self.client = chromadb.Client(
            Settings(persist_directory="save/memory", is_persistent=True)
        )
        self.collection = self.client.get_or_create_collection(
            name="memory",
            embedding_function=APIEmbeddingFunction()
        )

    def _auto_archive(self):
        archive_turns = self.turns[:len(self.turns)//2]
        content = "\n".join(str(turn) for turn in archive_turns)
        self.collection.add(documents=[content], ...)
```

**æ ¸ç‰¹æ€§**:

1. **è‡ªåŠ¨å½’æ¡£**: è¶…è¿‡ 20 è½®è‡ªåŠ¨å­˜å‚¨å‰ 10 è½®
2. **ChromaDB æŒä¹…åŒ–**: SQLite åç«¯,è½»é‡çº§
3. **è¯­ä¹‰æ£€ç´¢**: query_texts è‡ªåŠ¨åŒ¹é…ç›¸å…³è®°å¿†

**ä¼˜ç‚¹**:
âœ… Chroma æ˜“ç”¨ä¸”è½»é‡  
âœ… è‡ªåŠ¨ç®¡ç†æ— éœ€æ‰‹åŠ¨  
âœ… æœ¬åœ°å­˜å‚¨æ— éšç§é£é™©  
âœ… ä»£ç ç®€æ´æ˜“ç»´æŠ¤

**ç¼ºç‚¹**:
âŒ å½’æ¡£ç­–ç•¥ç®€å• (ä»…ä¸€åŠ)  
âŒ æ— å‹ç¼©/æ€»ç»“  
âŒ å• collection æ— åˆ†ç±»  
âŒ æ£€ç´¢ç­–ç•¥å›ºå®š

**é€‚ç”¨åœºæ™¯**: **éœ€è¦å¿«é€Ÿè¯­ä¹‰æ£€ç´¢,ä¸æƒ³å¤æ‚æ¶æ„**

---

### 7. **ZcChat** - Qt æ¡Œé¢åº”ç”¨ (æ— æ˜æ˜¾è®°å¿†æ¨¡å—) â­â­

**è¯´æ˜**: ä¸»è¦æ˜¯ Qt GUI åº”ç”¨,æœªå‘ç°ç»“æ„åŒ–è®°å¿†ç³»ç»Ÿ,å¯èƒ½ä»…ä¿å­˜å¯¹è¯å†å²åˆ°æœ¬åœ°æ–‡ä»¶ã€‚

---

### 8-12. **å…¶ä»–é¡¹ç›®å¿«é€Ÿæ¦‚è§ˆ**

| é¡¹ç›®                    | è®°å¿†ç±»å‹   | å­˜å‚¨æ–¹æ¡ˆ | ç‰¹ç‚¹                          |
| ----------------------- | ---------- | -------- | ----------------------------- |
| **Lunar-Astral-Agents** | æœªæ˜æ˜¾å®ç° | -        | å¤š Agent æ¡†æ¶,è®°å¿†æ¨¡å—ä¸æ˜æ˜¾ |
| **ai_virtual_mate_web** | æœªæ˜æ˜¾å®ç° | -        | Web ç«¯,å¯èƒ½ä½¿ç”¨ session      |
| **deepseek-Lunasia**    | æœªæ˜æ˜¾å®ç° | -        | éœ€è¿›ä¸€æ­¥æ£€æŸ¥                  |
| **super-agent-party**   | æœªæ˜æ˜¾å®ç° | -        | Party åä½œæ¡†æ¶                |
| **ten-framework**       | æœªæ˜æ˜¾å®ç° | -        | æ¡†æ¶æ€§è´¨é¡¹ç›®                  |

---

## ğŸ“ˆ æŠ€æœ¯é€‰å‹å¯¹æ¯”

| æŠ€æœ¯          | é¡¹ç›®             | ä¼˜åŠ¿                   | åŠ£åŠ¿                 |
| ------------- | ---------------- | ---------------------- | -------------------- |
| **SQLite**    | N.E.K.O, MoeChat | è½»é‡ã€æ— ä¾èµ–ã€äº‹åŠ¡ä¿è¯ | æ— å‘é‡æ£€ç´¢           |
| **ChromaDB**  | nana             | æ˜“ç”¨ã€æœ¬åœ°ã€å‘é‡æ£€ç´¢   | åŠŸèƒ½è¾ƒåŸºç¡€           |
| **Neo4j**     | NagaAgent        | å›¾æ¨ç†å¼ºå¤§ã€å¤æ‚æŸ¥è¯¢   | éƒ¨ç½²å¤æ‚ã€èµ„æºå ç”¨é«˜ |
| **NetworkX**  | Live2D           | æ— å¤–éƒ¨ä¾èµ–ã€çµæ´»       | æ€§èƒ½å—é™ã€æ— æŒä¹…åŒ–   |
| **YAML æ–‡ä»¶** | MoeChat          | äººç±»å¯è¯»ã€æ˜“ç¼–è¾‘       | æ— ç»“æ„åŒ–æŸ¥è¯¢         |
| **LLM å‹ç¼©**  | N.E.K.O          | æ™ºèƒ½æ€»ç»“ã€èŠ‚çœç©ºé—´     | API æˆæœ¬é«˜ã€å»¶è¿Ÿé«˜   |

---

## ğŸ’¡ æ ¸å¿ƒè®¾è®¡æ¨¡å¼æ€»ç»“

### 1. **åˆ†å±‚æ¶æ„æ¨¡å¼** (N.E.K.O)

```
çŸ­æœŸ (Recent) â†’ ä¸­æœŸ (Compressed) â†’ é•¿æœŸ (Semantic) â†’ å…ƒæ•°æ® (Settings)
   â†“              â†“                   â†“                â†“
  JSON         SQLite              Vector DB        Extracted
```

### 2. **çŸ¥è¯†å›¾è°±æ¨¡å¼** (NagaAgent, Live2D)

```
å¯¹è¯ â†’ LLMæå– â†’ ä¸‰å…ƒç»„/äº”å…ƒç»„ â†’ å›¾æ•°æ®åº“ â†’ å…³ç³»æ¨ç†
```

### 3. **å‘é‡ RAG æ¨¡å¼** (nana, my-neuro)

```
å¯¹è¯ â†’ Embedding â†’ å‘é‡å­˜å‚¨ â†’ ä½™å¼¦ç›¸ä¼¼åº¦æ£€ç´¢ â†’ Top-Kè¿”å›
```

### 4. **æ–‡ä»¶å½’æ¡£æ¨¡å¼** (MoeChat)

```
å¯¹è¯ â†’ å…³é”®è¯æ ‡è®° â†’ YAMLæ–‡ä»¶ â†’ å…¨æ–‡æ£€ç´¢ â†’ äººå·¥ç¼–è¾‘
```

---

## ğŸ¯ å¯¹ Lumina çš„å¯ç¤ºä¸å»ºè®®

### æ¨èæ–¹æ¡ˆ: **æ··åˆæ¶æ„ (N.E.K.O å¯å‘ + ä¼˜åŒ–)**

```python
# å»ºè®®æ¶æ„
class LuminaMemorySystem:
    def __init__(self):
        # Layer 1: çŸ­æœŸè®°å¿† (æœ€è¿‘10è½®)
        self.recent_buffer = []  # ç›´æ¥ä¼ ç»™LLM

        # Layer 2: ä¸­æœŸå‹ç¼© (LiteMemoryå·²æœ‰çš„Qdrant)
        self.lite_memory = LiteMemory()  # åŸºäºQdrant

        # Layer 3: é•¿æœŸå½’æ¡£ (SQLiteæ—¶é—´ç´¢å¼•)
        self.time_index = TimeIndexedMemory()  # ç±»ä¼¼N.E.K.O

        # Layer 4: å…ƒæ•°æ®æå– (è§’è‰²åå¥½/å…³é”®è®¾ç½®)
        self.profile_manager = ProfileManager()
```

### å®æ–½æ­¥éª¤

#### **Phase 1: å¢å¼º LiteMemory** (åŸºäº Qdrant)

1. âœ… **å·²æœ‰åŸºç¡€**: å½“å‰ LiteMemory å·²ä½¿ç”¨ Qdrant å‘é‡æ£€ç´¢
2. ğŸ†• **æ·»åŠ å‹ç¼©**: æ¯ 10 è½®å¯¹è¯è°ƒç”¨ LLM ç”Ÿæˆæ‘˜è¦å­˜å…¥ Qdrant
3. ğŸ†• **å…ƒæ•°æ®æå–**: å­˜å‚¨æ—¶é™„å¸¦æ—¶é—´ã€Speaker æ ‡è¯†ã€æƒ…æ„Ÿæ ‡ç­¾

#### **Phase 2: æ·»åŠ æ—¶é—´ç´¢å¼•å±‚** (å‚è€ƒ N.E.K.O)

```python
# æ–°å¢æ¨¡å—: time_indexed_memory.py
class TimeIndexedMemory:
    def __init__(self):
        self.engine = create_engine("sqlite:///memories/{character_name}.db")

    def store_conversation(self, conv_id, messages, timestamp):
        # å­˜å‚¨åŸå§‹å¯¹è¯ + å‹ç¼©æ‘˜è¦
        pass

    def retrieve_by_timeframe(self, start, end):
        # æŒ‰æ—¶é—´èŒƒå›´æŸ¥è¯¢
        pass
```

#### **Phase 3: æ™ºèƒ½å®¡æ ¸æœºåˆ¶** (å¯é€‰)

```python
async def review_recent_memory(self):
    \"\"\"æ£€æµ‹çŸ›ç›¾ã€å¤è¯»ã€å†—ä½™\"\"\"
    history = self.get_recent_history()
    prompt = f"å®¡æ ¸ä»¥ä¸‹å¯¹è¯,æ‰¾å‡ºçŸ›ç›¾/å†—ä½™: {history}"
    corrections = await llm.ainvoke(prompt)
    self.apply_corrections(corrections)
```

### å…·ä½“ä¼˜åŒ–å»ºè®®

1. **ä¿ç•™ Qdrant** â†’ æ¯” Chroma æ›´é€‚åˆç”Ÿäº§ç¯å¢ƒ
2. **æ·»åŠ  SQLite æ—¶é—´å±‚** â†’ ä½æˆæœ¬é•¿æœŸå­˜å‚¨
3. **LLM å¯é€‰å‹ç¼©** â†’ é…ç½®å¼€å…³,é¿å…å¼ºåˆ¶æ¶ˆè€—
4. **å¤š character éš”ç¦»** â†’ å‚è€ƒ N.E.K.O çš„ per-character è·¯å¾„
5. **å¼‚æ­¥ä»»åŠ¡é˜Ÿåˆ—** â†’ å‚è€ƒ NagaAgent çš„ TaskManager

---

## ğŸš€ å¿«é€Ÿå®ç°æ¸…å•

```markdown
### æœ¬å‘¨å¯å®Œæˆ

- [ ] æ·»åŠ  SQLite æ—¶é—´ç´¢å¼•å±‚ (å‚è€ƒ N.E.K.O timeindex.py)
- [ ] LiteMemory æ·»åŠ  metadata (timestamp, speaker)
- [ ] å®ç°åŸºæœ¬çš„è®°å¿†å‹ç¼© API

### ä¸‹å‘¨å¯å®Œæˆ

- [ ] æ·»åŠ  LLM å‹ç¼©æ‘˜è¦åŠŸèƒ½ (å¯é…ç½®å¼€å…³)
- [ ] å®ç°æŒ‰æ—¶é—´èŒƒå›´æŸ¥è¯¢
- [ ] æ·»åŠ è®°å¿†å®¡æ ¸ endpoint

### åç»­ä¼˜åŒ–

- [ ] Web UI è®°å¿†æµè§ˆå™¨ (å‚è€ƒ MoeChat çš„ Flask UI)
- [ ] çŸ¥è¯†å›¾è°±å®éªŒ (å¯é€‰,è§†éœ€æ±‚)
- [ ] è®°å¿†å¯¼å…¥å¯¼å‡ºåŠŸèƒ½
```

---

## ğŸ“š å‚è€ƒä»£ç ç‰‡æ®µ

### æœ€å€¼å¾—ç§»æ¤çš„ä»£ç 

1. **N.E.K.O çš„æ—¶é—´ç´¢å¼•å±‚** (`memory/timeindex.py`)

   - SQLite + timestamp æŸ¥è¯¢
   - è‡ªåŠ¨åˆ›å»ºè¡¨ schema
   - per-character éš”ç¦»

2. **N.E.K.O çš„ LLM å‹ç¼©** (`memory/recent.py:compress_history()`)

   - JSON æ ¼å¼ prompt
   - æŒ‡æ•°é€€é¿é‡è¯•
   - äºŒæ¬¡å‹ç¼©æœºåˆ¶

3. **nana çš„ ChromaDB é›†æˆ** (`backend/conversation.py`)

   - ç®€æ´çš„è‡ªåŠ¨å½’æ¡£
   - æ¸…æ™°çš„ API è®¾è®¡

4. **NagaAgent çš„ä»»åŠ¡é˜Ÿåˆ—** (`summer_memory/task_manager.py`)
   - å¼‚æ­¥å¹¶å‘å¤„ç†
   - ä¼˜é›…å–æ¶ˆæœºåˆ¶

---

## âš ï¸ é¿å‘æŒ‡å—

1. **ä¸è¦è¿‡åº¦ä¾èµ– LLM**: å‹ç¼©/å®¡æ ¸åº”å¯é€‰,é¿å…æˆæœ¬å¤±æ§
2. **ä¸è¦è¿‡æ—©å¼•å…¥ Neo4j**: å°è§„æ¨¡ç”¨ NetworkX/SQLite è¶³å¤Ÿ
3. **ä¸è¦å¿½è§†å¤‡ä»½**: YAML/SQLite æ¯”çº¯å†…å­˜å®‰å…¨
4. **ä¸è¦é˜»å¡ä¸»æµç¨‹**: å‹ç¼©/æå–å¿…é¡»å¼‚æ­¥
5. **ä¸è¦å¿˜è®°éš”ç¦»**: å¤š character å¿…é¡»åˆ†ç¦»å­˜å‚¨

---

## ğŸ“Š æœ€ç»ˆè¯„åˆ†æ’å

| é¡¹ç›®      | æ¶æ„å®Œæ•´æ€§ | æŠ€æœ¯å…ˆè¿›æ€§ | æ˜“ç”¨æ€§     | å¯ç§»æ¤æ€§   | ç»¼åˆè¯„åˆ†  |
| --------- | ---------- | ---------- | ---------- | ---------- | --------- |
| N.E.K.O   | â­â­â­â­â­ | â­â­â­â­   | â­â­â­     | â­â­â­â­   | **18/20** |
| NagaAgent | â­â­â­â­   | â­â­â­â­â­ | â­â­       | â­â­       | **15/20** |
| Live2D    | â­â­â­â­   | â­â­â­â­   | â­â­â­     | â­â­â­     | **14/20** |
| nana      | â­â­â­     | â­â­â­     | â­â­â­â­â­ | â­â­â­â­   | **14/20** |
| MoeChat   | â­â­â­     | â­â­       | â­â­â­â­   | â­â­â­â­â­ | **13/20** |
| my-neuro  | â­â­       | â­â­       | â­â­â­     | â­â­â­â­   | **9/20**  |

---

## ğŸ“ ç»“è®º

**N.E.K.O çš„å››å±‚æ¶æ„** æ˜¯ç›®å‰æœ€å®Œæ•´å’Œå®ç”¨çš„è®¾è®¡,å»ºè®®**Lumina åœ¨ LiteMemory åŸºç¡€ä¸Šå‚è€ƒå…¶æ€è·¯**:

1. âœ… **ä¿ç•™ Qdrant å±‚** (LiteMemory å·²æœ‰)
2. ğŸ†• **æ·»åŠ  SQLite æ—¶é—´ç´¢å¼•å±‚**
3. ğŸ†• **æ·»åŠ  LLM å‹ç¼©é€‰é¡¹** (å¯é…ç½®)
4. ğŸ†• **æ·»åŠ å¼‚æ­¥ä»»åŠ¡é˜Ÿåˆ—**

**é¢„æœŸæ”¶ç›Š**:

- ğŸš€ é•¿æœŸè®°å¿†æŒä¹…åŒ– (SQLite)
- ğŸ’¾ èŠ‚çœ Qdrant ç©ºé—´ (å‹ç¼©)
- âš¡ ä¸é˜»å¡ä¸»æµç¨‹ (å¼‚æ­¥)
- ğŸ” å¤šç»´åº¦æ£€ç´¢ (å‘é‡+æ—¶é—´+å…³é”®è¯)

---

**æŠ¥å‘Šç”Ÿæˆæ—¶é—´**: 2026-01-06  
**åˆ†æé¡¹ç›®æ•°**: 12  
**ä»£ç å®¡æŸ¥è¡Œæ•°**: ~3000+  
**æ¨èä¼˜å…ˆçº§**: **ç«‹å³å®æ–½ Phase 1**
